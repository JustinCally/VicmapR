<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Migration to the Open Data Platform • VicmapR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Migration to the Open Data Platform">
<meta property="og:description" content="VicmapR">
<meta property="og:image" content="https://justincally.github.io/VicmapR/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">VicmapR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/beginner_vicmap.html">Vicmap for Beginners</a>
    </li>
    <li>
      <a href="../articles/migration_odp.html">Migration to the Open Data Platform</a>
    </li>
    <li>
      <a href="../articles/query_vicmap.html">How to Query Vicmap Data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/justincally/VicmapR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="migration_odp_files/kePrint-0.0.1/kePrint.js"></script><link href="migration_odp_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Migration to the Open Data Platform</h1>
            
            <h4 data-toc-skip class="date">2023-06-21</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/justincally/VicmapR/blob/HEAD/vignettes/migration_odp.Rmd" class="external-link"><code>vignettes/migration_odp.Rmd</code></a></small>
      <div class="hidden name"><code>migration_odp.Rmd</code></div>

    </div>

    
    
<!--
Modifications Copyright 2020 Rachel Swain and Justin Cally
Copyright 2019 Province of British Columbia

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and limitations under the License.
-->
<div class="section level2">
<h2 id="about">About<a class="anchor" aria-label="anchor" href="#about"></a>
</h2>
<p>From <code>VicmapR</code> version <code>0.2.0</code>, the default
platform data is retrieved from is different.</p>
<p>The Enterprise Spatial Services (ESS) Transformation Program from the
Department of Energy, Environment and Climate Action (DEECA) has
determined that DELWP’s WMS and WFS Open Data services will be hosted in
AWS Cloud. This will cause a change of URLs when accessing these
services.</p>
<p>This migration of services essentially requires the
<code>VicmapR</code> package to restructure where and how it obtains
data. We have updated package code to by default use the new Amazon AWS
cloud platform as the default source for data moving forward. The legacy
platforms and services will be turned off by the 27 March 2023. Meaning
that users will no longer be able to access data from these sources from
this date.</p>
<p>We have made an effort to update <code>VicmapR</code> in such a way
to make existing code work by translating layer names from the legacy
names to the new names. However, not all data may be available; or even
if data is available there may be changes to formats and structures.
However, the new platform is expected to be more scalable (with likely
addition of more data moving forward).</p>
<p>Some key changes to the data structure are:</p>
<ul>
<li>Layer names now have a prefix of ‘open-data-platform:’ instead of
‘datavic:’<br>
</li>
<li>Layer names are now lowercase<br>
</li>
<li>Attributes (columns) are now in lowercase<br>
</li>
<li>There are no different layers for subsets of data (e.g. there is
only one layer for 2005 modelled EVCs: nv2005_evcbcs, whereas previously
there were lots of layer subsets for the different EVC groups)</li>
<li>The default chunk limit is 5000 (previously varied between 1500 and
70000 depending on the dataset)</li>
</ul>
<p>In order to view how old layer names relate to new layer names users
can view the exported data.frame (<code>name_conversions</code>).</p>
</div>
<div class="section level2">
<h2 id="comparison-of-old-and-new-code">Comparison of old and new code<a class="anchor" aria-label="anchor" href="#comparison-of-old-and-new-code"></a>
</h2>
<p>Below we show how you might have queried a a layer in the legacy
system and in the new system</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://justincally.github.io/VicmapR/">VicmapR</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'VicmapR'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://haozhu233.github.io/kableExtra/" class="external-link">kableExtra</a></span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Old code for obtaining freshwater wetlands in glenelg plain</span></span>
<span><span class="va">evc_18_1_old</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/vicmap_query.html">vicmap_query</a></span><span class="op">(</span><span class="st">"datavic:FLORAFAUNA1_NV2005_EVCBCS_18_1"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/filter.html">filter</a></span><span class="op">(</span><span class="va">BIOREGION</span> <span class="op">==</span> <span class="st">"Glenelg Plain"</span> <span class="op">&amp;</span> <span class="va">X_EVCNAME</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Deep Freshwater Marsh"</span>, <span class="st">"Aquatic Herbland"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/select.html">select</a></span><span class="op">(</span><span class="va">X_EVCNAME</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/head.html">head</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span> </span>
<span><span class="co">#&gt; You are using old layer names. We converted your layer to nv2005_evcbcs with a CQL filter of evc_subgp=18.1. To suppress this message, update your code to use the new layer names (see VicmapR::name_conversions for more details)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/collect.html">collect</a></span><span class="op">(</span><span class="va">evc_18_1_old</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kbl.html" class="external-link">kbl</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html" class="external-link">kable_styling</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
id
</th>
<th style="text-align:left;">
x_evcname
</th>
<th style="text-align:left;">
geometry
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
nv2005_evcbcs.5882
</td>
<td style="text-align:left;">
Aquatic Herbland
</td>
<td style="text-align:left;">
MULTIPOLYGON (((140.9806 -3…
</td>
</tr>
<tr>
<td style="text-align:left;">
nv2005_evcbcs.14290
</td>
<td style="text-align:left;">
Deep Freshwater Marsh
</td>
<td style="text-align:left;">
MULTIPOLYGON (((141.5681 -3…
</td>
</tr>
<tr>
<td style="text-align:left;">
nv2005_evcbcs.14559
</td>
<td style="text-align:left;">
Aquatic Herbland
</td>
<td style="text-align:left;">
MULTIPOLYGON (((141.0497 -3…
</td>
</tr>
<tr>
<td style="text-align:left;">
nv2005_evcbcs.18331
</td>
<td style="text-align:left;">
Deep Freshwater Marsh
</td>
<td style="text-align:left;">
MULTIPOLYGON (((141.5998 -3…
</td>
</tr>
<tr>
<td style="text-align:left;">
nv2005_evcbcs.19701
</td>
<td style="text-align:left;">
Deep Freshwater Marsh
</td>
<td style="text-align:left;">
MULTIPOLYGON (((141.5607 -3…
</td>
</tr>
<tr>
<td style="text-align:left;">
nv2005_evcbcs.44964
</td>
<td style="text-align:left;">
Aquatic Herbland
</td>
<td style="text-align:left;">
MULTIPOLYGON (((141.1398 -3…
</td>
</tr>
<tr>
<td style="text-align:left;">
nv2005_evcbcs.45154
</td>
<td style="text-align:left;">
Deep Freshwater Marsh
</td>
<td style="text-align:left;">
MULTIPOLYGON (((141.1711 -3…
</td>
</tr>
<tr>
<td style="text-align:left;">
nv2005_evcbcs.46267
</td>
<td style="text-align:left;">
Aquatic Herbland
</td>
<td style="text-align:left;">
MULTIPOLYGON (((141 -37.363…
</td>
</tr>
<tr>
<td style="text-align:left;">
nv2005_evcbcs.46747
</td>
<td style="text-align:left;">
Deep Freshwater Marsh
</td>
<td style="text-align:left;">
MULTIPOLYGON (((141.1332 -3…
</td>
</tr>
<tr>
<td style="text-align:left;">
nv2005_evcbcs.55241
</td>
<td style="text-align:left;">
Aquatic Herbland
</td>
<td style="text-align:left;">
MULTIPOLYGON (((141.1057 -3…
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># New code for obtaining freshwater wetlands in glenelg plain</span></span>
<span><span class="va">evc_18_1_new</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/vicmap_query.html">vicmap_query</a></span><span class="op">(</span><span class="st">"open-data-platform:nv2005_evcbcs"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/filter.html">filter</a></span><span class="op">(</span><span class="va">x_subgroupname</span> <span class="op">==</span> <span class="st">"Freshwater"</span> <span class="op">&amp;</span> </span>
<span>           <span class="va">bioregion</span> <span class="op">==</span> <span class="st">"Glenelg Plain"</span> <span class="op">&amp;</span> </span>
<span>           <span class="va">x_evcname</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Deep Freshwater Marsh"</span>, <span class="st">"Aquatic Herbland"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/select.html">select</a></span><span class="op">(</span><span class="va">x_evcname</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/head.html">head</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/collect.html">collect</a></span><span class="op">(</span><span class="va">evc_18_1_new</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kbl.html" class="external-link">kbl</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html" class="external-link">kable_styling</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
id
</th>
<th style="text-align:left;">
x_evcname
</th>
<th style="text-align:left;">
geometry
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
nv2005_evcbcs.5882
</td>
<td style="text-align:left;">
Aquatic Herbland
</td>
<td style="text-align:left;">
MULTIPOLYGON (((140.9806 -3…
</td>
</tr>
<tr>
<td style="text-align:left;">
nv2005_evcbcs.14290
</td>
<td style="text-align:left;">
Deep Freshwater Marsh
</td>
<td style="text-align:left;">
MULTIPOLYGON (((141.5681 -3…
</td>
</tr>
<tr>
<td style="text-align:left;">
nv2005_evcbcs.14559
</td>
<td style="text-align:left;">
Aquatic Herbland
</td>
<td style="text-align:left;">
MULTIPOLYGON (((141.0497 -3…
</td>
</tr>
<tr>
<td style="text-align:left;">
nv2005_evcbcs.18331
</td>
<td style="text-align:left;">
Deep Freshwater Marsh
</td>
<td style="text-align:left;">
MULTIPOLYGON (((141.5998 -3…
</td>
</tr>
<tr>
<td style="text-align:left;">
nv2005_evcbcs.19701
</td>
<td style="text-align:left;">
Deep Freshwater Marsh
</td>
<td style="text-align:left;">
MULTIPOLYGON (((141.5607 -3…
</td>
</tr>
<tr>
<td style="text-align:left;">
nv2005_evcbcs.44964
</td>
<td style="text-align:left;">
Aquatic Herbland
</td>
<td style="text-align:left;">
MULTIPOLYGON (((141.1398 -3…
</td>
</tr>
<tr>
<td style="text-align:left;">
nv2005_evcbcs.45154
</td>
<td style="text-align:left;">
Deep Freshwater Marsh
</td>
<td style="text-align:left;">
MULTIPOLYGON (((141.1711 -3…
</td>
</tr>
<tr>
<td style="text-align:left;">
nv2005_evcbcs.46267
</td>
<td style="text-align:left;">
Aquatic Herbland
</td>
<td style="text-align:left;">
MULTIPOLYGON (((141 -37.363…
</td>
</tr>
<tr>
<td style="text-align:left;">
nv2005_evcbcs.46747
</td>
<td style="text-align:left;">
Deep Freshwater Marsh
</td>
<td style="text-align:left;">
MULTIPOLYGON (((141.1332 -3…
</td>
</tr>
<tr>
<td style="text-align:left;">
nv2005_evcbcs.55241
</td>
<td style="text-align:left;">
Aquatic Herbland
</td>
<td style="text-align:left;">
MULTIPOLYGON (((141.1057 -3…
</td>
</tr>
</tbody>
</table>
<p>As we can see, both code chucks now produce the same data due to
VicmapR’s in-built translations as part of the update. To check the
queries are the same we can compare them:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Old query (translated):\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Old query (translated):</span></span>
<span><span class="fu"><a href="../reference/show_query.html">show_query</a></span><span class="op">(</span><span class="va">evc_18_1_old</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;base url&gt;</span></span>
<span><span class="co">#&gt; https://opendata.maps.vic.gov.au/geoserver/ows</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; &lt;body&gt;</span></span>
<span><span class="co">#&gt; service: wfs </span></span>
<span><span class="co">#&gt; version: 2.0.0 </span></span>
<span><span class="co">#&gt; request: GetFeature </span></span>
<span><span class="co">#&gt; typeNames: nv2005_evcbcs </span></span>
<span><span class="co">#&gt; outputFormat: application/json </span></span>
<span><span class="co">#&gt; count: 10 </span></span>
<span><span class="co">#&gt; srsName: EPSG:4283 </span></span>
<span><span class="co">#&gt; CQL_FILTER: (evc_subgp=18.1 AND ("bioregion" = 'Glenelg Plain' AND "x_evcname" IN ('Deep Freshwater Marsh', 'Aquatic Herbland'))) </span></span>
<span><span class="co">#&gt; propertyName: geom,x_evcname </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; &lt;full query url&gt;</span></span>
<span><span class="co">#&gt; https://opendata.maps.vic.gov.au/geoserver/ows?service=wfs&amp;version=2.0.0&amp;request=GetFeature&amp;typeNames=nv2005_evcbcs&amp;outputFormat=application%2Fjson&amp;count=10&amp;srsName=EPSG%3A4283&amp;CQL_FILTER=%28evc_subgp%3D18.1%20AND%20%28%22bioregion%22%20%3D%20%27Glenelg%20Plain%27%20AND%20%22x_evcname%22%20IN%20%28%27Deep%20Freshwater%20Marsh%27%2C%20%27Aquatic%20Herbland%27%29%29%29&amp;propertyName=geom%2Cx_evcname</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"New query:\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; New query:</span></span>
<span><span class="fu"><a href="../reference/show_query.html">show_query</a></span><span class="op">(</span><span class="va">evc_18_1_new</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;base url&gt;</span></span>
<span><span class="co">#&gt; https://opendata.maps.vic.gov.au/geoserver/ows</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; &lt;body&gt;</span></span>
<span><span class="co">#&gt; service: wfs </span></span>
<span><span class="co">#&gt; version: 2.0.0 </span></span>
<span><span class="co">#&gt; request: GetFeature </span></span>
<span><span class="co">#&gt; typeNames: open-data-platform:nv2005_evcbcs </span></span>
<span><span class="co">#&gt; outputFormat: application/json </span></span>
<span><span class="co">#&gt; count: 10 </span></span>
<span><span class="co">#&gt; srsName: EPSG:4283 </span></span>
<span><span class="co">#&gt; CQL_FILTER: ("x_subgroupname" = 'Freshwater' AND "bioregion" = 'Glenelg Plain' AND "x_evcname" IN ('Deep Freshwater Marsh', 'Aquatic Herbland')) </span></span>
<span><span class="co">#&gt; propertyName: geom,x_evcname </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; &lt;full query url&gt;</span></span>
<span><span class="co">#&gt; https://opendata.maps.vic.gov.au/geoserver/ows?service=wfs&amp;version=2.0.0&amp;request=GetFeature&amp;typeNames=open-data-platform%3Anv2005_evcbcs&amp;outputFormat=application%2Fjson&amp;count=10&amp;srsName=EPSG%3A4283&amp;CQL_FILTER=%28%22x_subgroupname%22%20%3D%20%27Freshwater%27%20AND%20%22bioregion%22%20%3D%20%27Glenelg%20Plain%27%20AND%20%22x_evcname%22%20IN%20%28%27Deep%20Freshwater%20Marsh%27%2C%20%27Aquatic%20Herbland%27%29%29&amp;propertyName=geom%2Cx_evcname</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="old-data-that-is-no-longer-available">Old data that is no longer available<a class="anchor" aria-label="anchor" href="#old-data-that-is-no-longer-available"></a>
</h2>
<p>Some data layers are not available on the new platform (at least not
yet). At time of writing, the swooping birds data is not available. If
you try and retrieve a data layer that is no longer available, you will
receive the following error:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="op">{</span></span>
<span><span class="fu"><a href="../reference/vicmap_query.html">vicmap_query</a></span><span class="op">(</span>layer <span class="op">=</span> <span class="st">"datavic:FLORAFUANA1_SWOOPING_BIRD"</span><span class="op">)</span> </span>
<span><span class="op">}</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in convert_layer_name(url) : </span></span>
<span><span class="co">#&gt;   No matching data found on new geoserver platform. Please search for a new layer with listLayers()</span></span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Justin Cally, Andy Teucher, Sam Albers, Stephanie Hazlitt.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
